{% extends 'layoutAdmin.html.twig' %}

{% block title %}
	{{parent()}}| Your fleet
{% endblock %}

{% block content %}
	<div class="container">
		<h1 class="h1 text-center my-5">Your fleet</h1>
		<div class="d-flex justify-content-end">
			<a class="btn btn-secondary text-light fw-bold" href="{{ path('app_vehicle_new', {'company' : company.id}) }}">Add you vehicle</a>
		</div>
		<div class="bg-light rounded-3 p-2">
			<table class="text-dark w-100">
				<thead class="border-bottom">

					<tr>
						<th>Plate number</th>
						<th>Model</th>
						<th>Unavailable</th>
						<th>Shareable</th>
					</tr>
				</thead>
			</thead>
			<tbody>
				<tr>
					{% for vehicle in company.vehicles %}
						<td>{{vehicle.immatriculation}}</td>
						<td>{{vehicle.model}}</td>
						{% if vehicle.isAvailable is same as(1) %}
							<td class="text-success">{{vehicle.isAvailable}}</td>
						{% else  %}
							<td class="text-danger">Vehicle not available
							</td>
						{% endif  %}
						{% if vehicle.isShared is same as(1)   %}
							<td class="text-danger">Vehicle shared</td>
						{% else  %}
							<td class="text-success">Vehicle not shared
							</td>
						{% endif  %}
						<td>
							<a class="btn btn-secondary" href="{{ path('app_vehicle_edit', {'company' : company.id,'vehicle': vehicle.id}) }}">Edit</a>
						</td>
						<td>
							<form method="post" action="{{ path('app_vehicle_delete', {'company' : company.id,'vehicle': vehicle.id}) }}" onsubmit="return confirm('Are you sure you want to delete this item?');">
								<input type="hidden" name="_token" value="{{ csrf_token('delete' ~ vehicle.id) }}">
								<button class="btn">Delete</button>
							</form>
						</td>
					</tr>
				{% endfor %}
			</tbody>
		</table>
	</div>
{% endblock %}
