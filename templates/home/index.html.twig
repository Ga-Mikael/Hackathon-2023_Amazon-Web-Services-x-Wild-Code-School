{% extends 'layoutUser.html.twig' %}

{% block title %}
	{{parent()}}| Home
{% endblock %}

{% block content %}
	{% for category, messages in app.flashes %}
		{% for message in messages %}
			<div class="alert alert-{{ category }}">
				{{ message }}
			</div>
		{% endfor %}
	{% endfor %}

	{{ form_start(searchForm) }}
	<div id="searchGrid" class="container text-dark bg-white rounded-2 mt-5 py-3 justify-content-around">
		<div id="searchArrow" class="align-self-center text-end">
			<svg xmlns="http://www.w3.org/2000/svg" width="49" height="49" fill="dark" class="bi bi-arrow-down" viewbox="0 0 16 16">
				<path fill-rule="evenodd" d="M8 1a.5.5 0 0 1 .5.5v11.793l3.146-3.147a.5.5 0 0 1 .708.708l-4 4a.5.5 0 0 1-.708 0l-4-4a.5.5 0 0 1 .708-.708L7.5 13.293V1.5A.5.5 0 0 1 8 1z"/>
			</svg>
		</div>
		<div id="searchDate" class="text-center">
			<div>
				{{ form_label(searchForm.startDate) }}
			</div>
			<div>
				{{ form_widget(searchForm.startDate) }}
			</div>
			<div class="mt-3">
				{{ form_label(searchForm.endDate) }}
			</div>
			<div>
				{{ form_widget(searchForm.endDate) }}
			</div>
		</div>

		<div id="searchBrand" class="text-center">
			<div>
				<svg xmlns="http://www.w3.org/2000/svg" width="99" height="99" fill="currentColor" class="bi bi-car-front-fill iconSearch" viewbox="0 0 16 16">
					<path d="M2.52 3.515A2.5 2.5 0 0 1 4.82 2h6.362c1 0 1.904.596 2.298 1.515l.792 1.848c.075.175.21.319.38.404.5.25.855.715.965 1.262l.335 1.679c.033.161.049.325.049.49v.413c0 .814-.39 1.543-1 1.997V13.5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-1.338c-1.292.048-2.745.088-4 .088s-2.708-.04-4-.088V13.5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-1.892c-.61-.454-1-1.183-1-1.997v-.413a2.5 2.5 0 0 1 .049-.49l.335-1.68c.11-.546.465-1.012.964-1.261a.807.807 0 0 0 .381-.404l.792-1.848ZM3 10a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm10 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2ZM6 8a1 1 0 0 0 0 2h4a1 1 0 1 0 0-2H6ZM2.906 5.189a.51.51 0 0 0 .497.731c.91-.073 3.35-.17 4.597-.17 1.247 0 3.688.097 4.597.17a.51.51 0 0 0 .497-.731l-.956-1.913A.5.5 0 0 0 11.691 3H4.309a.5.5 0 0 0-.447.276L2.906 5.19Z"/>
				</svg>
			</div>
			<div>
				{{ form_label(searchForm.Brand) }}
			</div>
			<div>
				{{ form_widget(searchForm.Brand) }}
			</div>
		</div>
		<div id="searchEnergy" class="text-center">
			<div>
				<img class="iconSearch" src="{{ asset('build/images/icons/engine.svg') }}" alt="">
			</div>
			<div>
				{{ form_label(searchForm.energy) }}
			</div>
			<div>
				{{ form_widget(searchForm.energy) }}
			</div>
		</div>
		<div id="searchGear" class="text-center">
			<div>
				<img class="iconSearch" src="{{ asset('build/images/icons/gearbox.svg') }}" alt="">
			</div>
			<div>
				{{ form_label(searchForm.gearbox) }}
			</div>
			<div>
				{{ form_widget(searchForm.gearbox) }}
			</div>
		</div>
		<div id="searchSeat" class="text-center">
			<div>
				<img class="iconSearch" src="{{ asset('build/images/icons/seat.svg') }}" alt="">
			</div>
			<div>
				{{ form_label(searchForm.door) }}
			</div>
			<div>
				{{ form_widget(searchForm.door) }}
			</div>
		</div>
		<div id="searchShare" class="text-center">
			<svg xmlns="http://www.w3.org/2000/svg" width="65" height="56" fill="currentColor" class="bi bi-share-fill" viewbox="0 0 16 16">
				<path d="M11 2.5a2.5 2.5 0 1 1 .603 1.628l-6.718 3.12a2.499 2.499 0 0 1 0 1.504l6.718 3.12a2.5 2.5 0 1 1-.488.876l-6.718-3.12a2.5 2.5 0 1 1 0-3.256l6.718-3.12A2.5 2.5 0 0 1 11 2.5z"/>
			</svg>
			<div>
				{{ form_label(searchForm.shared) }}
			</div>
			<div>
				{{ form_widget(searchForm.shared) }}
			</div>
		</div>

		<div id="searchButton" class="text-center align-self-center">
			<button type="submit" id="search" class="btn btn-lg btn-secondary">Search</button>
			{{ form_end(searchForm) }}
		</div>
		<div id="searchClear" class="text-center align-self-center">
			<a class="btn btn-lg btn-outline-dark" href="{{ path('app_home') }}">Clear Filter</a>
		</div>
	</div>


	<div class="d-flex flex-wrap text-cente mt-5 justify-content-around">
		{% if vehicles is not empty %}
			{% for vehicle in vehicles %}
				{% if vehicle.energy == "Electric" %}
					<div class="card cardHome text-dark me-2 mb-4 border border-3 border-info">
						<div id="cardGrid" class="container text-center">
							<div id="cardCar">
								<svg xmlns="http://www.w3.org/2000/svg" width="99" height="99" fill="#0dcaf0" class="bi bi-ev-front-fill" viewbox="0 0 16 16">
									<path d="M2.52 3.515A2.5 2.5 0 0 1 4.82 2h6.362c1 0 1.904.596 2.298 1.515l.792 1.848c.075.175.21.319.38.404.5.25.855.715.965 1.262l.335 1.679c.033.161.049.325.049.49v.413c0 .814-.39 1.543-1 1.997V13.5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-1.338c-1.292.048-2.745.088-4 .088s-2.708-.04-4-.088V13.5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-1.892c-.61-.454-1-1.183-1-1.997v-.413a2.5 2.5 0 0 1 .049-.49l.335-1.68c.11-.546.465-1.012.964-1.261a.807.807 0 0 0 .381-.404l.792-1.848Zm6.75.51a.186.186 0 0 0-.23.034L6.05 7.246a.188.188 0 0 0 .137.316h1.241l-.673 2.195a.188.188 0 0 0 .085.218c.075.043.17.03.23-.034l2.88-3.187a.188.188 0 0 0-.137-.316H8.572l.782-2.195a.188.188 0 0 0-.085-.218Z"/>
								</svg>
							</div>

						{% else %}
							<div class="card cardHome text-dark me-2 mb-4">
								<div id="cardGrid" class="container text-center">
									<div id="cardCar">
										<svg xmlns="http://www.w3.org/2000/svg" width="99" height="99" fill="currentColor" class="bi bi-car-front-fill" viewbox="0 0 16 16">
											<path d="M2.52 3.515A2.5 2.5 0 0 1 4.82 2h6.362c1 0 1.904.596 2.298 1.515l.792 1.848c.075.175.21.319.38.404.5.25.855.715.965 1.262l.335 1.679c.033.161.049.325.049.49v.413c0 .814-.39 1.543-1 1.997V13.5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-1.338c-1.292.048-2.745.088-4 .088s-2.708-.04-4-.088V13.5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-1.892c-.61-.454-1-1.183-1-1.997v-.413a2.5 2.5 0 0 1 .049-.49l.335-1.68c.11-.546.465-1.012.964-1.261a.807.807 0 0 0 .381-.404l.792-1.848ZM3 10a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm10 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2ZM6 8a1 1 0 0 0 0 2h4a1 1 0 1 0 0-2H6ZM2.906 5.189a.51.51 0 0 0 .497.731c.91-.073 3.35-.17 4.597-.17 1.247 0 3.688.097 4.597.17a.51.51 0 0 0 .497-.731l-.956-1.913A.5.5 0 0 0 11.691 3H4.309a.5.5 0 0 0-.447.276L2.906 5.19Z"/>
										</svg>
									</div>
								{% endif %}
								<div id="cardBrand" class="text-center fs-4 fw-bold">
									{{ vehicle.brand }}
									{{ vehicle.model }}
								</div>
								<div id="cardLogo" class="align-self-center">
									{{vehicle.company.name}}
								</div>
								<div id="cardEnergy">
									<img class="mt-2" src="{{ asset('build/images/icons/engine.svg') }}" alt="">
									<p class="mt-3 fs-5">{{vehicle.energy}}</p>
								</div>
								<div id="cardGear">
									<img class="mt-2" src="{{ asset('build/images/icons/gearbox.svg') }}" alt="">
									<p class="mt-3 fs-5">{{vehicle.gearbox}}</p>
								</div>
								<div id="cardSeat">
									<img class="mt-2" src="{{ asset('build/images/icons/seat.svg') }}" alt="">
									<p class="mt-3 fs-5">{{vehicle.nbDoor}}</p>
								</div>
								<div id="cardButton">
									<a class="btn btn-lg btn-secondary w-75" type="submit" href="{{path('app_show', {'vehicle': vehicle.id})}}">
										Book
									</a>
								</div>
							</div>
						</div>
					{% endfor %}
				{% endif %}
				{% if otherNearCompagniesVehicles is not empty %}
					{% for otherNearCompagniesVehicle in otherNearCompagniesVehicles %}
						<div class="card cardHome bg-primary text-white me-2 mb-4">
							<div id="cardGrid" class="container text-center">
								<div id="cardCar">
									<svg xmlns="http://www.w3.org/2000/svg" width="99" height="99" fill="currentColor" class="bi bi-car-front-fill" viewbox="0 0 16 16">
										<path d="M2.52 3.515A2.5 2.5 0 0 1 4.82 2h6.362c1 0 1.904.596 2.298 1.515l.792 1.848c.075.175.21.319.38.404.5.25.855.715.965 1.262l.335 1.679c.033.161.049.325.049.49v.413c0 .814-.39 1.543-1 1.997V13.5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-1.338c-1.292.048-2.745.088-4 .088s-2.708-.04-4-.088V13.5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1-.5-.5v-1.892c-.61-.454-1-1.183-1-1.997v-.413a2.5 2.5 0 0 1 .049-.49l.335-1.68c.11-.546.465-1.012.964-1.261a.807.807 0 0 0 .381-.404l.792-1.848ZM3 10a1 1 0 1 0 0-2 1 1 0 0 0 0 2Zm10 0a1 1 0 1 0 0-2 1 1 0 0 0 0 2ZM6 8a1 1 0 0 0 0 2h4a1 1 0 1 0 0-2H6ZM2.906 5.189a.51.51 0 0 0 .497.731c.91-.073 3.35-.17 4.597-.17 1.247 0 3.688.097 4.597.17a.51.51 0 0 0 .497-.731l-.956-1.913A.5.5 0 0 0 11.691 3H4.309a.5.5 0 0 0-.447.276L2.906 5.19Z"/>
									</svg>
								</div>
								<div id="cardBrand" class="text-center fs-4 fw-bold">
									{{ otherNearCompagniesVehicle.brand }}
									{{ otherNearCompagniesVehicle.model }}
								</div>
								<div id="cardLogo" class="align-self-center">
									{{otherNearCompagniesVehicle.company.name}}
								</div>
								<div id="cardEnergy">
									<img class="mt-2" src="{{ asset('build/images/icons/engine.svg') }}" alt="">
									<p class="mt-3 fs-5">{{otherNearCompagniesVehicle.energy}}</p>
								</div>
								<div id="cardGear">
									<img class="mt-2" src="{{ asset('build/images/icons/gearbox.svg') }}" alt="">
									<p class="mt-3 fs-5">{{otherNearCompagniesVehicle.gearbox}}</p>
								</div>
								<div id="cardSeat">
									<img class="mt-2" src="{{ asset('build/images/icons/seat.svg') }}" alt="">
									<p class="mt-3 fs-5">{{otherNearCompagniesVehicle.nbDoor}}</p>
								</div>
								<div id="cardButton">
									<a class="btn btn-lg btn-secondary w-75" type="submit" href="{{path('app_show', {'vehicle': otherNearCompagniesVehicle.id})}}">
										Book
									</a>
								</div>
							</div>
						</div>
					{% endfor %}
				</div>
			{% endif %}
			{% if vehicles is empty and otherNearCompagniesVehicles is empty %}
				<p class="mt-5 text-center">No vehicle found</p>
			{% endif %}
		</div>
	</div>
{% endblock %}
